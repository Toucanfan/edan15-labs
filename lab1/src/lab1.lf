target C {
     timeout: 3 sec
}

reactor Source {
    output out: int
    timer tim(0, 1 sec)
    reaction(tim) -> out {=
        lf_set(out, 123);
    =}
}

reactor Sink {
    input in: int
    reaction(in) {=
        printf("Sink: Got input: %d\n", in->value);
    =}
}

main reactor {
    reaction(startup) {=
        printf("Hello world!\n");
    =}
    reaction(shutdown) {=
        printf("Good bye!\n");
    =}
    src = new Source()
    snk = new Sink()
    src.out -> snk.in
}
